(this.webpackJsonpidealumpfrontend=this.webpackJsonpidealumpfrontend||[]).push([[0],{116:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(22),o=a(41),i=a(23),l=a(71),m=a(66),u=a.n(m),d=a(21),p=a(24),h=a(129),f=a(43),v=Object(f.a)("GET_WEATHER"),b=Object(f.a)("GET_SHOP_NEWS"),E=Object(f.a)("GET_CMS_NEWS"),w=Object(h.a)((n={},Object(d.a)(n,v.REQUEST,(function(e){return Object(p.a)({},e)})),Object(d.a)(n,v.SUCCESS,(function(e,t){var a=t.payload;return Object(p.a)({},e,{weather:a.weather,weatherPending:!1})})),Object(d.a)(n,v.FAILURE,(function(e){return Object(p.a)({},e,{weatherError:!0,weatherPending:!1})})),Object(d.a)(n,b.REQUEST,(function(e){return Object(p.a)({},e)})),Object(d.a)(n,b.SUCCESS,(function(e,t){var a=t.payload;return Object(p.a)({},e,{shopNews:a.shopNews,shopPending:!1})})),Object(d.a)(n,b.FAILURE,(function(e){return Object(p.a)({},e,{shopError:!0,shopPending:!1})})),Object(d.a)(n,E.REQUEST,(function(e){return Object(p.a)({},e)})),Object(d.a)(n,E.SUCCESS,(function(e,t){var a=t.payload;return Object(p.a)({},e,{cmsNews:a.cmsNews,cmsPending:!1})})),Object(d.a)(n,E.FAILURE,(function(e){return Object(p.a)({},e,{cmsError:!0,cmsPending:!1})})),n),{weather:[],shopNews:[],cmsNews:[],weatherPending:!0,weatherError:!1,shopPending:!0,shopError:!1,cmsPending:!0,csmError:!1}),g=Object(i.c)({news:w}),j=a(3),O=a.n(j),N=a(5),y=a(28),k=a.n(y),S=O.a.mark(P),x=O.a.mark(C);function L(){return k.a.get("/weather",{auth:{username:"idealump",password:"idealump"}})}function P(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(N.b)(L);case 3:if(!(e=t.sent)){t.next=7;break}return t.next=7,Object(N.d)(v.success({weather:e.data}));case 7:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(N.d)(v.failure(t.t0.message));case 14:case"end":return t.stop()}}),S,null,[[0,10]])}function C(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.g)(v.REQUEST,P);case 2:case"end":return e.stop()}}),x)}var _=a(20),q=a.n(_),M=O.a.mark(U),T=O.a.mark(A);function R(){return k.a.get("/datascraped",{auth:{username:"idealump",password:"idealump"}})}function U(){var e,t;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(N.b)(R);case 3:if(e=a.sent,(t=JSON.parse(e.data[0].data)).sort((function(e,t){return q()(e.date)<q()(t.date)?1:-1})),!e){a.next=9;break}return a.next=9,Object(N.d)(b.success({shopNews:t}));case 9:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(N.d)(b.failure(a.t0.message));case 16:case"end":return a.stop()}}),M,null,[[0,12]])}function A(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.g)(b.REQUEST,U);case 2:case"end":return e.stop()}}),T)}var I=O.a.mark(F),W=O.a.mark(Q);function z(){return k.a.get("/news/?page=0&limit=10",{auth:{username:"idealump",password:"idealump"}})}function F(){var e,t;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(N.b)(z);case 3:if(e=a.sent,(t=e.data.rows).sort((function(e,t){return q()(e.created_at)<q()(t.created_at)?1:-1})),!e){a.next=9;break}return a.next=9,Object(N.d)(E.success({cmsNews:t}));case 9:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(N.d)(E.failure(a.t0.message));case 16:case"end":return a.stop()}}),I,null,[[0,12]])}function Q(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.g)(E.REQUEST,F);case 2:case"end":return e.stop()}}),W)}var D=O.a.mark(H);function H(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.c)(C),Object(N.c)(A),Object(N.c)(Q)]);case 2:case"end":return e.stop()}}),D)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(10),G=a(17),J=a(13),B=a(11),X=a(14),Z=a(67),K=a(37),V=a.n(K),$=a(68),ee=a.n($),te=a(69),ae=a.n(te),ne=(a(63),a(116),function(e){function t(){var e,a;Object(Y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(J.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=a.props,t=e.weather,n=e.pending,r=e.error;return c.a.createElement("div",{id:"\u5929\u6c17",className:"weather-container"},c.a.createElement("h2",{className:"weather-title"},"\u6771\u4eac\u306e\u5929\u6c17"),r&&c.a.createElement("img",{alt:"error",className:"error",src:"images/error.png"}),n&&c.a.createElement("img",{alt:"pending",className:"pending",src:"images/loader.gif"}),c.a.createElement("div",{className:"weather-list"},!n&&!r&&t&&t.daily.data.map((function(e,t){return c.a.createElement("div",{key:t,"data-aos":"fade-up","data-aos-delay":"50","data-aos-duration":"1000","data-aos-mirror":"true",className:t%2===0?"weather-box":"weather-box down"},c.a.createElement(ee.a,{icon:e.icon.replace(/-/g,"_").toUpperCase(),color:"white",size:80,animate:!0}),c.a.createElement("div",{className:"weather-date"},ae.a.tz(e.time,"X","Asia/Tokyo").locale("ja").format("MMM Do")),c.a.createElement("div",{className:"weather-summary"},e.summary),c.a.createElement("div",{className:"weather-temp"},c.a.createElement("div",null,"\u9ad8\u6e29: ",e.temperatureHigh,"\xb0C"),c.a.createElement("div",null,"\u4f4e\u6e29: ",e.temperatureLow,"\xb0C")))})).filter((function(e,t){return 7!==t}))))},a}return Object(X.a)(t,e),t}(r.Component)),re=a(29),ce=a(130),se=a(70),oe=a(6),ie=a.n(oe),le=(a(118),a(7)),me=a.n(le),ue=a(128),de=a(26),pe=(a(120),function(e){function t(){return Object(Y.a)(this,t),Object(J.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(X.a)(t,e),Object(G.a)(t,[{key:"createLeafletElement",value:function(e){return ie.a.mapboxGL(e)}}]),t}(ue.a));pe.propTypes={accessToken:me.a.string.isRequired,style:me.a.string},pe.defaultProps={style:"mapbox://styles/jamalenda/ck4gzh2uq6cnv1cmyamwjgbjd"};var he=Object(de.b)(pe),fe=(a(121),a(122),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{providerKey:null,searchBounds:[]};Object(Y.a)(this,e);var a=t.searchBounds,n="",r="";if(a.length){var c,s=a.map((function(e){return e.reverse()}));this.bounds=(c=[]).concat.apply(c,[[]].concat(Object(re.a)(s))).join(","),n="&bounded=1&viewbox=".concat(this.bounds)}"region"in t&&(r="&countrycodes=".concat(t.region)),this.url="https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&polygon_svg=1&namedetails=1".concat(n).concat(r,"&q=")}return Object(G.a)(e,[{key:"search",value:function(e){var t;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(fetch(this.url+e).then((function(e){return e.json()})));case 2:return t=a.sent,a.abrupt("return",this.formatResponse(t));case 4:case"end":return a.stop()}}),null,this)}},{key:"formatResponse",value:function(e){var t=e,a=e.length>0?t.map((function(e){return{bounds:e.boundingbox.map((function(e){return Number(e)})),latitude:parseFloat(e.lat),longitude:parseFloat(e.lon),name:e.display_name}})):"Not Found";return console.log(a),{info:a,raw:e}}}]),e}()),ve=function(e){function t(e){var a;return Object(Y.a)(this,t),(a=Object(J.a)(this,Object(B.a)(t).call(this,e))).render=function(){return a.mapRef&&a.mapRef.leafletElement.invalidateSize(),c.a.createElement("div",{id:"\u5730\u56f3",className:"map-container"},c.a.createElement("h2",{className:"map-title"},"\u4e16\u754c\u5730\u56f3"),"\u3000",c.a.createElement(ce.a,{style:{height:"500px"},onLocationfound:a.handleLocationFound,ref:function(e){return a.mapRef=e},center:a.state.latlng,zoom:a.state.zoom,className:"news-map",scrollWheelZoom:!0,onClick:a.handleClick},c.a.createElement(he,{accessToken:a.state.token,style:a.state.style}),c.a.createElement(se.a,{customProvider:a.provider,position:"topleft",inputPlaceholder:"\u691c\u7d22",search:[],showMarker:!0,zoom:14,showPopup:!0,closeResultsOnClick:!0,openSearchOnLoad:!1})))},a.provider=new fe,a.state={count:0,hasLocation:!1,latlng:[35.6649973,139.7029883],zoom:13,token:"pk.eyJ1IjoiamFtYWxlbmRhIiwiYSI6ImNrNGd5dDFldDE0YW4zbm13emk1MXZocnMifQ.mP0GU33Vt4JKfQhqMOUZSQ",style:"mapbox://styles/jamalenda/ck4gzh2uq6cnv1cmyamwjgbjd"},a}return Object(X.a)(t,e),t}(r.Component),be=(a(123),function(e){function t(){var e,a;Object(Y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(J.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).readMore=function(e){var t=document.querySelectorAll(".read-more"),a=document.querySelectorAll(".shop-detail");a[e].classList.contains("close")?(a[e].classList.remove("close"),t[e].innerHTML="\u9589\u3058\u308b"):(a[e].classList.add("close"),t[e].innerHTML="\u3082\u3063\u3068\u307f\u308b")},a.render=function(){var e=a.props,t=e.shopNews,n=e.pending,r=e.error;return c.a.createElement("div",{id:"\u30b7\u30e7\u30d7\u30cb\u30e5\u30fc\u30b9",className:"shop-container"},c.a.createElement("h2",{className:"shop-title"},"\u30b7\u30e7\u30d7\u30cb\u30e5\u30fc\u30b9"),r&&c.a.createElement("img",{alt:"error",className:"error",src:"images/error.png"}),n&&c.a.createElement("img",{alt:"pending",className:"pending",src:"images/loader.gif"}),c.a.createElement("div",{className:"shop-list"},!n&&!r&&t&&t.map((function(e,t){return c.a.createElement(V.a,{key:t,once:!0},c.a.createElement("div",{className:"shop-news"},c.a.createElement("div",{className:"shop-imgcont"},c.a.createElement("img",{src:e.image,className:"shop-image",alt:""})),c.a.createElement("div",{className:"shop-detailcont"},c.a.createElement("div",{className:"shop-head"},c.a.createElement("div",{className:"shop-newstitle"}," ",e.title),c.a.createElement("div",{className:"shop-date"}," ",e.date)),c.a.createElement("div",{className:"shop-detail close"},e.detail)),c.a.createElement("div",{className:"read-more-cont"},c.a.createElement("button",{onClick:function(){return a.readMore(t)},className:"read-more"},"\u3082\u3063\u3068\u307f\u308b"))))}))))},a}return Object(X.a)(t,e),t}(r.Component)),Ee=(a(124),function(e){function t(){var e,a;Object(Y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(J.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=a.props,t=e.cmsNews,n=e.pending,r=e.error;return c.a.createElement("div",{id:"\u30cb\u30e5\u30fc\u30b9",className:"cms-container"},c.a.createElement("h2",{className:"cms-title"},"\uff23\uff2d\uff33\u30cb\u30e5\u30fc\u30b9"),r&&c.a.createElement("img",{alt:"error",className:"error",src:"images/error.png"}),n&&c.a.createElement("img",{alt:"pending",className:"pending",src:"images/loader.gif"}),c.a.createElement("div",{className:"cms-list"},!n&&!r&&t&&t.map((function(e,t){return c.a.createElement("div",{key:t,className:"cms-news"},c.a.createElement("div",{className:"cms-date"},c.a.createElement("div",{className:"cms-date-ymh"},q()(e.created_at).locale("ja").format("YYYY")+"\u5e74",q()(e.created_at).locale("ja").format("MMMDo")),c.a.createElement("div",{className:"cms-date-time"},q()(e.created_at).locale("ja").format("HH:mm:ss"))),c.a.createElement("div",{className:"cms-content"},e.news_content))}))))},a}return Object(X.a)(t,e),t}(r.Component)),we=(a(64),function(e){function t(e){var a;return Object(Y.a)(this,t),(a=Object(J.a)(this,Object(B.a)(t).call(this,e))).UNSAFE_componentWillMount=function(){var e=a.props,t=e.fetchWeather,n=e.fetchShopNews,r=e.fetchCMSNews;t(),n(),r()},a.componentDidMount=function(){setTimeout((function(){var e=document.querySelector("#loader"),t=document.querySelector(".news-component");t&&(e.classList.add("fade-out"),t.classList.add("fade-in"))}),5e3)},a.componentDidUpdate=function(){var e=document.querySelector("#video");e&&e.addEventListener("playing",(function(){document.querySelector(".video").style.opacity=0}))},a.setActive=function(e){var t;switch(a.setState({active:e}),e){case 0:(t=document.querySelector(".weather-title")).classList.add("menu-active"),t.classList.remove("menu-inactive");break;case 1:(t=document.querySelector(".map-title")).classList.add("menu-active"),t.classList.remove("menu-inactive");break;case 2:(t=document.querySelector(".shop-title")).classList.add("menu-active"),t.classList.remove("menu-inactive");break;case 3:(t=document.querySelector(".cms-title")).classList.add("menu-active"),t.classList.remove("menu-inactive")}},a.setInactive=function(e){var t;switch(a.setState({active:!e}),e){case 0:(t=document.querySelector(".weather-title")).classList.add("menu-inactive"),t.classList.remove("menu-active");break;case 1:(t=document.querySelector(".map-title")).classList.add("menu-inactive"),t.classList.remove("menu-active");break;case 2:(t=document.querySelector(".shop-title")).classList.add("menu-inactive"),t.classList.remove("menu-active");break;case 3:(t=document.querySelector(".cms-title")).classList.add("menu-inactive"),t.classList.remove("menu-active")}},a.render=function(){var e=a.props,t=e.weather,n=e.weatherPending,r=e.weatherError,s=e.shopNews,o=e.shopPending,i=e.shopError,l=e.cmsNews,m=e.cmsPending,u=e.cmsError;return c.a.createElement("div",{className:"news-component"},c.a.createElement("div",{className:"news-header"},c.a.createElement("img",{className:"logo",src:"images/logo.png",alt:""}),c.a.createElement("h1",{className:"headline","data-aos":"fade-down"},"Idealump Test Page"),c.a.createElement("img",{className:"tokyo-icon",src:"images/tokyo.png",alt:""})),c.a.createElement("div",{className:"menu"},a.state.menu.map((function(e,t){return c.a.createElement(Z.Link,{key:t,onClick:function(){return a.setActive(t)},to:e,spy:!0,offset:-95,hashSpy:!1,onSetActive:function(){return a.setActive(t)},onSetInactive:function(){return a.setInactive(t)},smooth:!0,duration:500},e)}))),c.a.createElement("div",{"data-aos":"fade-in"},c.a.createElement("img",{className:"video",src:"images/placeholder.png",alt:""}),c.a.createElement(V.a,{once:!0},c.a.createElement("video",{id:"video","data-setup":"{}",preload:"auto",autobuffer:"",autoPlay:!0,muted:!0,playsInline:!0,loop:!0},c.a.createElement("source",{src:"https://res.cloudinary.com/idealump/video/upload/v1577330844/idealump_kibf41.webm",type:"video/webm"})))),c.a.createElement("div",{className:"menu-section"},c.a.createElement(ne,{weather:t,pending:n,error:r}),c.a.createElement(ve,null),c.a.createElement(be,{shopNews:s,pending:o,error:i}),c.a.createElement(Ee,{cmsNews:l,pending:m,error:u})),c.a.createElement("div",{className:"footer"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"https://www.linkedin.com/in/anisa-jamalenda-43330710b"},c.a.createElement("i",{className:"fab fa-linkedin-in icon"}))),c.a.createElement("li",null,c.a.createElement("a",{href:"https://github.com/jamalendanisa"},c.a.createElement("i",{className:"fab fa-github icon"})))),c.a.createElement("div",{className:"copywright"},"\xa92019 ideaLump inc.")))},a.state={active:"00",menu:["\u5929\u6c17","\u5730\u56f3","\u30b7\u30e7\u30d7\u30cb\u30e5\u30fc\u30b9","\u30cb\u30e5\u30fc\u30b9"]},a}return Object(X.a)(t,e),t}(r.Component)),ge=Object(o.b)((function(e){var t=e.news;return{weather:t.weather,shopNews:t.shopNews,cmsNews:t.cmsNews,weatherPending:t.weatherPending,weatherError:t.weatherError,shopPending:t.shopPending,shopError:t.shopError,cmsPending:t.cmsPending,cmsError:t.cmsError}}),(function(e){return{fetchWeather:function(){return e(v.request())},fetchShopNews:function(){return e(b.request())},fetchCMSNews:function(){return e(E.request())}}}))(we),je=function(e){function t(){return Object(Y.a)(this,t),Object(J.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(X.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"app-container"},c.a.createElement("div",{id:"loader",className:"animated infinite tada delay-2s"},c.a.createElement("img",{src:"/images/welcome.png",alt:""})),c.a.createElement(ge,null))}}]),t}(r.Component);a(125),a(126);u.a.init({disable:!1,once:!0,mirror:!1});var Oe=Object(l.a)(),Ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,ye=Object(i.e)(g,Ne(Object(i.a)(Oe)));Oe.run(H),Object(s.render)(c.a.createElement(o.a,{store:ye},c.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},64:function(e,t,a){},73:function(e,t,a){e.exports=a(127)}},[[73,1,2]]]);
//# sourceMappingURL=main.360b36fd.chunk.js.map